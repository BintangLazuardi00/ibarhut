<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎂 Ibar's Spooky 23rd Birthday! 👻</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Creepster&family=Nosifer&family=Butcherman&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Butcherman', cursive;
            background: linear-gradient(45deg, #1a0033, #330066, #000000);
            color: #fff;
            overflow-x: hidden;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><circle cx="10" cy="10" r="8" fill="%23ff6b6b"/></svg>'), auto;
        }

        .container {
            min-height: 100vh;
            position: relative;
        }

        /* Floating ghosts animation */
        .ghost {
            position: fixed;
            font-size: 2rem;
            animation: float 3s ease-in-out infinite;
            z-index: 1000;
            pointer-events: none;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        /* Spooky header */
        .header {
            text-align: center;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.8);
            border-bottom: 3px solid #ff6b6b;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 107, 0.3), transparent);
            animation: shine 2s infinite;
        }

        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .main-title {
            font-family: 'Creepster', cursive;
            font-size: 3.5rem;
            color: #ff6b6b;
            text-shadow: 0 0 20px #ff6b6b, 0 0 40px #ff6b6b;
            margin-bottom: 1rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .subtitle {
            font-family: 'Nosifer', cursive;
            font-size: 1.5rem;
            color: #ffff66;
            text-shadow: 0 0 10px #ffff66;
        }

        /* Interactive sections */
        .section {
            padding: 3rem 2rem;
            margin: 2rem 0;
            background: rgba(51, 0, 102, 0.3);
            border: 2px solid #ff6b6b;
            border-radius: 20px;
            margin: 2rem;
            position: relative;
            transition: all 0.3s ease;
        }

        .section:hover {
            transform: scale(1.02);
            box-shadow: 0 0 30px #ff6b6b;
            background: rgba(51, 0, 102, 0.5);
        }

        .section-title {
            font-family: 'Creepster', cursive;
            font-size: 2rem;
            color: #ffff66;
            text-align: center;
            margin-bottom: 2rem;
            text-shadow: 0 0 15px #ffff66;
        }

        /* Spooky cake */
        .cake-container {
            text-align: center;
            margin: 2rem 0;
        }

        .cake {
            font-size: 8rem;
            display: inline-block;
            animation: wobble 2s infinite;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .cake:hover {
            transform: scale(1.2);
            filter: hue-rotate(90deg);
        }

        @keyframes wobble {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(2deg); }
            75% { transform: rotate(-2deg); }
        }

        /* Interactive buttons */
        .spooky-button {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            border: none;
            padding: 1rem 2rem;
            font-family: 'Butcherman', cursive;
            font-size: 1.2rem;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            margin: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            position: relative;
            overflow: hidden;
        }

        .spooky-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .spooky-button:hover::before {
            left: 100%;
        }

        .spooky-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.6);
            background: linear-gradient(45deg, #ff8e8e, #ffaaaa);
        }

        .spooky-button:active {
            transform: translateY(0px);
        }

        /* Countdown timer */
        .countdown {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            max-width: 600px;
            margin: 2rem auto;
        }

        .countdown-item {
            background: rgba(0, 0, 0, 0.7);
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #ffff66;
            transition: all 0.3s ease;
        }

        .countdown-item:hover {
            transform: rotateY(10deg);
            box-shadow: 0 0 20px #ffff66;
        }

        .countdown-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ff6b6b;
            display: block;
        }

        .countdown-label {
            font-size: 1rem;
            color: #ffff66;
            margin-top: 0.5rem;
        }

        /* Memory game */
        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            max-width: 400px;
            margin: 2rem auto;
        }

        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(45deg, #330066, #660099);
            border: 2px solid #ff6b6b;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .memory-card:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px #ff6b6b;
        }

        .memory-card.flipped {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            transform: rotateY(180deg);
        }

        .memory-card.matched {
            background: linear-gradient(45deg, #66ff66, #88ff88);
            animation: celebrate 0.5s ease;
        }

        @keyframes celebrate {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* Spooky facts */
        .fact-container {
            background: rgba(0, 0, 0, 0.8);
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            border: 2px solid #ffff66;
            position: relative;
        }

        .fact-text {
            font-size: 1.3rem;
            line-height: 1.6;
            text-align: center;
            color: #fff;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Balloon pop game */
        .balloon-game {
            position: relative;
            height: 300px;
            overflow: hidden;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin: 2rem 0;
        }

        .balloon {
            position: absolute;
            font-size: 3rem;
            cursor: pointer;
            animation: rise 4s linear infinite;
            transition: all 0.2s ease;
        }

        .balloon:hover {
            transform: scale(1.2);
        }

        @keyframes rise {
            from {
                bottom: -50px;
                transform: translateX(0);
            }
            to {
                bottom: 350px;
                transform: translateX(50px);
            }
        }

        /* Score display */
        .score {
            text-align: center;
            font-size: 1.5rem;
            color: #ffff66;
            margin: 1rem 0;
            text-shadow: 0 0 10px #ffff66;
        }

        /* Wish form */
        .wish-form {
            background: rgba(0, 0, 0, 0.7);
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            border: 2px solid #ff6b6b;
        }

        .wish-input {
            width: 100%;
            padding: 1rem;
            background: rgba(51, 0, 102, 0.8);
            border: 2px solid #ffff66;
            border-radius: 10px;
            color: white;
            font-family: 'Butcherman', cursive;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            resize: vertical;
        }

        .wish-input::placeholder {
            color: #ccc;
        }

        .wish-input:focus {
            outline: none;
            box-shadow: 0 0 15px #ffff66;
            border-color: #ff6b6b;
        }

        /* Wishes display */
        .wishes-container {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 2rem;
        }

        .wish-item {
            background: rgba(51, 0, 102, 0.6);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 10px;
            border-left: 4px solid #ffff66;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Photo gallery */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .photo-frame {
            aspect-ratio: 1;
            background: linear-gradient(45deg, #330066, #660099);
            border: 3px solid #ff6b6b;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .photo-frame:hover {
            transform: rotate(5deg) scale(1.05);
            box-shadow: 0 0 25px #ff6b6b;
        }

        .photo-frame::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.5s;
        }

        .photo-frame:hover::before {
            animation: photoShine 0.5s ease;
        }

        @keyframes photoShine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        /* Surprise modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(45deg, #330066, #660099);
            padding: 3rem;
            border-radius: 20px;
            border: 3px solid #ff6b6b;
            text-align: center;
            max-width: 500px;
            position: relative;
            animation: modalPop 0.5s ease;
        }

        @keyframes modalPop {
            0% { transform: scale(0.5) rotate(180deg); opacity: 0; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 2rem;
            cursor: pointer;
            color: #ff6b6b;
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            transform: scale(1.2);
            color: #ffff66;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2.5rem;
            }
            
            .subtitle {
                font-size: 1.2rem;
            }
            
            .section {
                margin: 1rem;
                padding: 2rem 1rem;
            }
            
            .countdown {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .memory-game {
                grid-template-columns: repeat(3, 1fr);
                max-width: 300px;
            }
            
            .cake {
                font-size: 6rem;
            }
        }

        /* Particle effects */
        .particle {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
        }

        /* Loading screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #000000, #330066);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            transition: opacity 1s ease;
        }

        .loading-text {
            font-family: 'Creepster', cursive;
            font-size: 3rem;
            color: #ff6b6b;
            text-shadow: 0 0 20px #ff6b6b;
            animation: loadingPulse 1s infinite;
        }

        @keyframes loadingPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.1); }
        }

        /* Audio controls */
        .audio-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .audio-button {
            background: rgba(255, 107, 107, 0.8);
            border: none;
            padding: 10px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .audio-button:hover {
            background: rgba(255, 107, 107, 1);
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-text">Loading Spooky Surprise... 👻</div>
    </div>

    <!-- Audio Controls -->
    <div class="audio-controls">
        <button class="audio-button" onclick="toggleMusic()" id="musicBtn">🎵</button>
    </div>

    <!-- Floating Ghosts -->
    <div class="ghost" style="top: 10%; left: 5%;">👻</div>
    <div class="ghost" style="top: 20%; right: 10%; animation-delay: 1s;">🎃</div>
    <div class="ghost" style="top: 60%; left: 15%; animation-delay: 2s;">💀</div>
    <div class="ghost" style="top: 80%; right: 20%; animation-delay: 0.5s;">🦇</div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="main-title">SELAMAT ULANG TAHUN IBAR! 🎂</h1>
            <p class="subtitle">Yang Ke-23 Tahun! 🎉👻</p>
        </header>

        <!-- Birthday Cake Section -->
        <section class="section">
            <h2 class="section-title">🎂 Tiup Lilinnya! 🕯️</h2>
            <div class="cake-container">
                <div class="cake" onclick="blowCandles()">🎂</div>
                <p style="text-align: center; margin-top: 1rem; font-size: 1.2rem;">Klik kue untuk meniup lilin!</p>
            </div>
        </section>

        <!-- Countdown to Next Birthday -->
        <section class="section">
            <h2 class="section-title">⏰ Countdown ke Ulang Tahun Berikutnya!</h2>
            <div class="countdown" id="countdown">
                <div class="countdown-item">
                    <span class="countdown-number" id="days">365</span>
                    <span class="countdown-label">Hari</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="hours">0</span>
                    <span class="countdown-label">Jam</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="minutes">0</span>
                    <span class="countdown-label">Menit</span>
                </div>
                <div class="countdown-item">
                    <span class="countdown-number" id="seconds">0</span>
                    <span class="countdown-label">Detik</span>
                </div>
            </div>
        </section>

        <!-- Memory Game -->
        <section class="section">
            <h2 class="section-title">🧠 Game Memori Seram!</h2>
            <div class="score">Skor: <span id="memoryScore">0</span></div>
            <div class="memory-game" id="memoryGame"></div>
            <button class="spooky-button" onclick="resetMemoryGame()">Reset Game</button>
        </section>

        <!-- Balloon Pop Game -->
        <section class="section">
            <h2 class="section-title">🎈 Pecahkan Balon Seram!</h2>
            <div class="score">Balon Dipecahkan: <span id="balloonScore">0</span></div>
            <div class="balloon-game" id="balloonGame"></div>
            <button class="spooky-button" onclick="startBalloonGame()">Mulai Game</button>
        </section>

        <!-- Spooky Facts -->
        <section class="section">
            <h2 class="section-title">🔮 Fakta Seram Tentang Ibar!</h2>
            <div class="fact-container">
                <div class="fact-text" id="factText">Klik tombol untuk fakta seram!</div>
            </div>
            <button class="spooky-button" onclick="showRandomFact()">Fakta Baru!</button>
        </section>

        <!-- Photo Gallery -->
        <section class="section">
            <h2 class="section-title">📸 Galeri Kenangan Seram!</h2>
            <div class="photo-gallery">
                <div class="photo-frame" onclick="showPhotoModal('Ibar sedang tertawa seram! 😈')">📷</div>
                <div class="photo-frame" onclick="showPhotoModal('Ibar dengan kostum hantu! 👻')">🖼️</div>
                <div class="photo-frame" onclick="showPhotoModal('Ibar merayakan Halloween! 🎃')">📸</div>
                <div class="photo-frame" onclick="showPhotoModal('Ibar dan teman-teman zombie! 🧟')">🖼️</div>
            </div>
        </section>

        <!-- Birthday Wishes -->
        <section class="section">
            <h2 class="section-title">💌 Kirim Ucapan Seram!</h2>
            <div class="wish-form">
                <textarea class="wish-input" id="wishInput" placeholder="Tulis ucapan serammu untuk Ibar..." rows="4"></textarea>
                <button class="spooky-button" onclick="addWish()">Kirim Ucapan 👻</button>
                <div class="wishes-container" id="wishesContainer"></div>
            </div>
        </section>

        <!-- Surprise Buttons -->
        <section class="section">
            <h2 class="section-title">🎁 Kejutan Spesial!</h2>
            <div style="text-align: center;">
                <button class="spooky-button" onclick="createFireworks()">Kembang Api! 🎆</button>
                <button class="spooky-button" onclick="scareJumpscare()">Jumpscare! 😱</button>
                <button class="spooky-button" onclick="showBirthdayMessage()">Pesan Rahasia 🔮</button>
                <button class="spooky-button" onclick="danceParty()">Dance Party! 💃</button>
            </div>
        </section>
    </div>

    <!-- Surprise Modal -->
    <div class="modal" id="surpriseModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        // Global variables
        let memoryCards = [];
        let flippedCards = [];
        let memoryScore = 0;
        let balloonScore = 0;
        let balloonInterval;
        let musicPlaying = false;

        // Spooky facts about Ibar
        const spookyFacts = [
            "Ibar ternyata bisa melihat hantu di cermin pada jam 3 pagi! 👻",
            "Setiap kali Ibar tertawa, ada suara aneh dari lemari! 😱",
            "Ibar punya kemampuan supernatural untuk menemukan makanan di kulkas kosong! 🔮",
            "Konon katanya, Ibar bisa berkomunikasi dengan kucing hitam! 🐱‍⬛",
            "Ibar memiliki koleksi boneka voodoo yang hidup di malam hari! 🪆",
            "Setiap ulang tahun, Ibar bertambah 1 tahun lebih seram! 🎂",
            "Ibar bisa membuat orang tertawa sampai kesurupan! 😂",
            "Legenda mengatakan Ibar bisa mengubah pizza dingin jadi panas dengan tatapan! 🍕"
        ];

        // Initialize page
        window.addEventListener('load', function() {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                }, 1000);
            }, 2000);
            
            initializeMemoryGame();
            startCountdown();
            createFloatingElements();
        });

        // Countdown timer
        function startCountdown() {
            const nextBirthday = new Date();
            nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);
            nextBirthday.setMonth(nextBirthday.getMonth()); // Assuming current month for demo
            nextBirthday.setDate(nextBirthday.getDate());
            
            setInterval(() => {
                const now = new Date().getTime();
                const distance = nextBirthday.getTime() - now;
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById('days').textContent = days;
                document.getElementById('hours').textContent = hours;
                document.getElementById('minutes').textContent = minutes;
                document.getElementById('seconds').textContent = seconds;
            }, 1000);
        }

        // Blow candles function
        function blowCandles() {
            const cake = document.querySelector('.cake');
            cake.innerHTML = '🎂💨';
            cake.style.animation = 'celebrate 1s ease';
            
            createParticles('🎉', 20);
            playSound('blow');
            
            setTimeout(() => {
                cake.innerHTML = '🎂';
                cake.style.animation = 'wobble 2s infinite';
            }, 2000);
            
            showModal('🎉 Selamat! Lilin sudah ditiup! 🎉<br>Semoga semua impian Ibar terkabul! ✨');
        }

        // Memory game
        function initializeMemoryGame() {
            const symbols = ['👻', '🎃', '💀', '🦇', '🕷️', '🔮', '⚰️', '🧙‍♂️'];
            const gameSymbols = [...symbols, ...symbols];
            gameSymbols.sort(() => Math.random() - 0.5);
            
            const gameContainer = document.getElementById('memoryGame');
            gameContainer.innerHTML = '';
            memoryCards = [];
            
            gameSymbols.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.symbol = symbol;
                card.dataset.index = index;
                card.innerHTML = '❓';
                card.addEventListener('click', flipCard);
                gameContainer.appendChild(card);
                memoryCards.push(card);
            });
        }

        function flipCard(e) {
            const card = e.target;
            if (card.classList.contains('flipped') || card.classList.contains('matched')) return;
            
            card.classList.add('flipped');
            card.innerHTML = card.dataset.symbol;
            flippedCards.push(card);
            
            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 500);
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            
            if (card1.dataset.symbol === card2.dataset.symbol) {
                card1.classList.add('matched');
                card2.classList.add('matched');
                memoryScore += 10;
                document.getElementById('memoryScore').textContent = memoryScore;
                createParticles('✨', 5);
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                card1.innerHTML = '❓';
                card2.innerHTML = '❓';
            }
            
            flippedCards = [];
            
            // Check if game is complete
            if (document.querySelectorAll('.memory-card.matched').length === memoryCards.length) {
                setTimeout(() => {
                    showModal('🎉 Selamat! Kamu menang! 🎉<br>Skor akhir: ' + memoryScore);
                }, 500);
            }
        }

        function resetMemoryGame() {
            memoryScore = 0;
            document.getElementById('memoryScore').textContent = memoryScore;
            flippedCards = [];
            initializeMemoryGame();
        }

        // Balloon game
        function startBalloonGame() {
            const gameContainer = document.getElementById('balloonGame');
            balloonScore = 0;
            document.getElementById('balloonScore').textContent = balloonScore;
            
            clearInterval(balloonInterval);
            gameContainer.innerHTML = '';
            
            balloonInterval = setInterval(createBalloon, 1000);
            
            setTimeout(() => {
                clearInterval(balloonInterval);
                showModal('🎈 Game Selesai! 🎈<br>Balon yang dipecahkan: ' + balloonScore);
            }, 30000);
        }

        function createBalloon() {
            const gameContainer = document.getElementById('balloonGame');
            const balloon = document.createElement('div');
            balloon.className = 'balloon';
            balloon.innerHTML = ['🎈', '🎃', '👻', '💀'][Math.floor(Math.random() * 4)];
            balloon.style.left = Math.random() * (gameContainer.offsetWidth - 50) + 'px';
            balloon.addEventListener('click', popBalloon);
            gameContainer.appendChild(balloon);
            
            setTimeout(() => {
                if (balloon.parentNode) {
                    balloon.remove();
                }
            }, 4000);
        }

        function popBalloon(e) {
            const balloon = e.target;
            balloonScore++;
            document.getElementById('balloonScore').textContent = balloonScore;
            
            createParticles('💥', 3);
            balloon.style.animation = 'celebrate 0.3s ease';
            
            setTimeout(() => {
                balloon.remove();
            }, 300);
        }

        // Random facts
        function showRandomFact() {
            const randomFact = spookyFacts[Math.floor(Math.random() * spookyFacts.length)];
            const factElement = document.getElementById('factText');
            
            factElement.style.opacity = '0';
            setTimeout(() => {
                factElement.innerHTML = randomFact;
                factElement.style.opacity = '1';
            }, 300);
            
            createParticles('🔮', 5);
        }

        // Photo modal
        function showPhotoModal(description) {
            showModal('📸 ' + description + '<br><br>Foto ini diambil dengan kamera hantu! 👻');
        }

        // Wishes system
        function addWish() {
            const wishInput = document.getElementById('wishInput');
            const wishText = wishInput.value.trim();
            
            if (wishText === '') {
                alert('Tulis ucapan dulu dong! 👻');
                return;
            }
            
            const wishesContainer = document.getElementById('wishesContainer');
            const wishElement = document.createElement('div');
            wishElement.className = 'wish-item';
            wishElement.innerHTML = `
                <strong>Ucapan Seram:</strong><br>
                ${wishText} 👻
                <div style="text-align: right; margin-top: 0.5rem; font-size: 0.9rem; color: #ffff66;">
                    - Dari hantu baik hati 💀
                </div>
            `;
            
            wishesContainer.insertBefore(wishElement, wishesContainer.firstChild);
            wishInput.value = '';
            
            createParticles('💌', 8);
            showModal('✨ Ucapan berhasil dikirim! ✨<br>Ibar pasti senang! 🎉');
        }

        // Surprise functions
        function createFireworks() {
            createParticles('🎆', 30);
            createParticles('✨', 20);
            createParticles('🎉', 25);
            
            document.body.style.animation = 'pulse 0.5s ease 3';
            setTimeout(() => {
                document.body.style.animation = '';
            }, 1500);
            
            showModal('🎆 KEMBANG API UNTUK IBAR! 🎆<br>Selamat ulang tahun yang ke-23! 🎉');
        }

        function scareJumpscare() {
            const jumpscare = document.createElement('div');
            jumpscare.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: #000;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 10rem;
                z-index: 99999;
                animation: fadeIn 0.1s ease;
            `;
            jumpscare.innerHTML = '👻';
            document.body.appendChild(jumpscare);
            
            setTimeout(() => {
                jumpscare.remove();
                showModal('😱 GOTCHA! 😱<br>Selamat ulang tahun Ibar! Semoga nggak kaget! 😂');
            }, 800);
        }

        function showBirthdayMessage() {
            const messages = [
                "🎂 Ibar, kamu sudah 23 tahun tapi masih kelihatan seperti hantu muda! 👻",
                "🎉 Semoga di usia 23 ini, Ibar makin seram... eh, makin keren maksudnya! 😄",
                "🔮 Ramalan: Di usia 23, Ibar akan menemukan harta karun... di dalam kulkas! 🍕",
                "👻 Happy Birthday Ibar! Semoga hantu-hantu baik selalu menjagamu! 🎈"
            ];
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            showModal(randomMessage);
            createParticles('🎁', 15);
        }

        function danceParty() {
            const elements = document.querySelectorAll('.section, .ghost, .spooky-button');
            elements.forEach((el, index) => {
                setTimeout(() => {
                    el.style.animation = 'celebrate 0.5s ease infinite';
                }, index * 100);
            });
            
            setTimeout(() => {
                elements.forEach(el => {
                    el.style.animation = '';
                });
            }, 5000);
            
            showModal('💃 DANCE PARTY TIME! 🕺<br>Selamat ulang tahun Ibar! Let\'s dance! 🎵');
            createParticles('🎵', 20);
        }

        // Utility functions
        function createParticles(emoji, count) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.innerHTML = emoji;
                    particle.style.cssText = `
                        left: ${Math.random() * window.innerWidth}px;
                        top: ${Math.random() * window.innerHeight}px;
                        font-size: ${Math.random() * 2 + 1}rem;
                        animation: float 2s ease-out forwards;
                        pointer-events: none;
                    `;
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        particle.remove();
                    }, 2000);
                }, i * 100);
            }
        }

        function createFloatingElements() {
            setInterval(() => {
                const emojis = ['👻', '🎃', '💀', '🦇', '🕷️', '🔮'];
                const emoji = emojis[Math.floor(Math.random() * emojis.length)];
                
                const element = document.createElement('div');
                element.style.cssText = `
                    position: fixed;
                    left: -50px;
                    top: ${Math.random() * window.innerHeight}px;
                    font-size: 2rem;
                    animation: floatAcross 10s linear;
                    pointer-events: none;
                    z-index: 1;
                `;
                element.innerHTML = emoji;
                document.body.appendChild(element);
                
                setTimeout(() => {
                    element.remove();
                }, 10000);
            }, 3000);
        }

        function showModal(content) {
            const modal = document.getElementById('surpriseModal');
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = content;
            modal.classList.add('show');
        }

        function closeModal() {
            const modal = document.getElementById('surpriseModal');
            modal.classList.remove('show');
        }

        function toggleMusic() {
            const btn = document.getElementById('musicBtn');
            if (musicPlaying) {
                btn.innerHTML = '🎵';
                musicPlaying = false;
            } else {
                btn.innerHTML = '🔇';
                musicPlaying = true;
            }
        }

        function playSound(type) {
            // Sound effects would be implemented here
            console.log('Playing sound:', type);
        }

        // Add floating across animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes floatAcross {
                from {
                    left: -50px;
                    transform: rotate(0deg);
                }
                to {
                    left: calc(100vw + 50px);
                    transform: rotate(360deg);
                }
            }
        `;
        document.head.appendChild(style);

        // Click anywhere to close modal
        document.getElementById('surpriseModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Easter eggs
        let clickCount = 0;
        document.addEventListener('click', function() {
            clickCount++;
            if (clickCount === 23) {
                showModal('🎉 EASTER EGG! 🎉<br>Kamu sudah klik 23 kali!<br>Sama seperti umur Ibar! 🎂');
                createParticles('🥚', 23);
                clickCount = 0;
            }
        });

        // Konami code easter egg
        let konamiCode = [];
        const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight'];
        
        document.addEventListener('keydown', function(e) {
            konamiCode.push(e.code);
            if (konamiCode.length > konamiSequence.length) {
                konamiCode.shift();
            }
            
            if (konamiCode.join(',') === konamiSequence.join(',')) {
                showModal('🎮 KONAMI CODE ACTIVATED! 🎮<br>Secret mode unlocked!<br>Ibar is now SUPER SPOOKY! 👻✨');
                document.body.style.filter = 'hue-rotate(180deg) saturate(2)';
                createParticles('🌟', 50);
                konamiCode = [];
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'964cb84b965ff92c',t:'MTc1MzQ1NzY1MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
